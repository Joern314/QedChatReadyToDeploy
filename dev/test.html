<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>ABC</title></head>
<script>

var cursor = 0;
request = new XMLHttpRequest();
uri = "http://chat.qed-verein.de/viewneu.php?channel=&position=-20&limit=1000&version=1413235752&type=json&feedback=1";
request.onreadystatechange = ServerResponse;
request.open("GET", uri, true);
request.send();


function Print(text)
{
	var li = document.createElement("li");
	li.appendChild(document.createTextNode(text));
    document.getElementById("display").appendChild(li);
}

function ServerResponse()
{
	if(request.readyState == 1)
		Print("Verbindung wurde aufgebaut");
	if(request.readyState == 2)
		Print("Anfrage wurde an den Server geschickt");
	if(request.readyState < 3)
		return;

    var end, obj;
    while((end = request.responseText.indexOf(";", cursor)) >= 0)
    {
		Print(request.responseText.substring(cursor, end));
		cursor = end + 1;
	}
	if(request.readyState == 4)
		Print("Verbindung wurde geschlossen");
}
</script>
<body>

<ul id="display">

</ul>
</body>
</html>
